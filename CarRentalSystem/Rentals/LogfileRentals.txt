2022-12-22 22:03:50.048 +03:00 [INF] Now listening on: http://[::]:8060
2022-12-22 22:03:50.060 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-22 22:03:50.061 +03:00 [INF] Hosting environment: Development
2022-12-22 22:03:50.062 +03:00 [INF] Content root path: C:\Users\plato\OneDrive\Рабочий стол\BMSTU\1m sem\rsoi-2022-lab2-microservices-platosha-git\CarRentalSystem\Rentals
2022-12-22 22:03:51.022 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8060/swagger/index.html - -
2022-12-22 22:03:51.258 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8060/swagger/index.html - - - 200 - text/html;charset=utf-8 241.4427ms
2022-12-22 22:03:51.460 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8060/swagger/v1/swagger.json - -
2022-12-22 22:03:51.676 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8060/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 216.1032ms
2022-12-22 22:05:51.677 +03:00 [INF] Application is shutting down...
2022-12-22 22:11:19.178 +03:00 [INF] Now listening on: http://[::]:8060
2022-12-22 22:11:19.197 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-22 22:11:19.198 +03:00 [INF] Hosting environment: Development
2022-12-22 22:11:19.198 +03:00 [INF] Content root path: C:\Users\plato\OneDrive\Рабочий стол\BMSTU\1m sem\rsoi-2022-lab2-microservices-platosha-git\CarRentalSystem\Rentals
2022-12-22 22:11:19.742 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8060/swagger/index.html - -
2022-12-22 22:11:19.973 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8060/swagger/index.html - - - 200 - text/html;charset=utf-8 235.3075ms
2022-12-22 22:11:20.181 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8060/swagger/v1/swagger.json - -
2022-12-22 22:11:20.375 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8060/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 193.1716ms
2022-12-22 22:11:59.212 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8060/api/v1/rental/ application/json;+charset=utf-8 -
2022-12-22 22:11:59.241 +03:00 [INF] Executing endpoint 'Rentals.Controllers.RentalsAPIController.CreateRental (Rentals)'
2022-12-22 22:11:59.281 +03:00 [INF] Route matched with {action = "CreateRental", controller = "RentalsAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRental(ModelsDTO.Rentals.RentalsDTO) on controller Rentals.Controllers.RentalsAPIController (Rentals).
2022-12-22 22:12:01.088 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM rental AS r
2022-12-22 22:12:01.336 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO rental (id, car_uid, date_from, date_to, payment_uid, rental_uid, status, username)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2022-12-22 22:12:01.363 +03:00 [INF] Executing CreatedResult, writing value of type 'ModelsDTO.Rentals.RentalsDTO'.
2022-12-22 22:12:01.384 +03:00 [INF] Executed action Rentals.Controllers.RentalsAPIController.CreateRental (Rentals) in 2095.8182ms
2022-12-22 22:12:01.384 +03:00 [INF] Executed endpoint 'Rentals.Controllers.RentalsAPIController.CreateRental (Rentals)'
2022-12-22 22:12:01.392 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8060/api/v1/rental/ application/json;+charset=utf-8 - - 201 - application/json;+charset=utf-8 2179.9079ms
2022-12-22 22:12:05.198 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8060/api/v1/rental/b6153128-a9f8-4059-a07c-47c0c8053c90/?X-User-Name=Test+Max - -
2022-12-22 22:12:05.199 +03:00 [INF] Executing endpoint 'Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals)'
2022-12-22 22:12:05.206 +03:00 [INF] Route matched with {action = "GetRentalByUid", controller = "RentalsAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRentalByUid(System.String, System.Guid) on controller Rentals.Controllers.RentalsAPIController (Rentals).
2022-12-22 22:12:05.442 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__username_0='?', @__RentalUid_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r.id, r.car_uid, r.date_from, r.date_to, r.payment_uid, r.rental_uid, r.status, r.username
FROM rental AS r
WHERE r.username = @__username_0 AND r.rental_uid = @__RentalUid_1
LIMIT 1
2022-12-22 22:12:05.457 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModelsDTO.Rentals.RentalsDTO'.
2022-12-22 22:12:05.458 +03:00 [INF] Executed action Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals) in 250.967ms
2022-12-22 22:12:05.458 +03:00 [INF] Executed endpoint 'Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals)'
2022-12-22 22:12:05.458 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8060/api/v1/rental/b6153128-a9f8-4059-a07c-47c0c8053c90/?X-User-Name=Test+Max - - - 200 - application/json;+charset=utf-8 259.8688ms
2022-12-22 22:12:09.351 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8060/api/v1/rental/?X-User-Name=Test+Max - -
2022-12-22 22:12:09.352 +03:00 [INF] Executing endpoint 'Rentals.Controllers.RentalsAPIController.GetRentalsByUsername (Rentals)'
2022-12-22 22:12:09.357 +03:00 [INF] Route matched with {action = "GetRentalsByUsername", controller = "RentalsAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRentalsByUsername(System.String) on controller Rentals.Controllers.RentalsAPIController (Rentals).
2022-12-22 22:12:09.455 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r.id, r.car_uid, r.date_from, r.date_to, r.payment_uid, r.rental_uid, r.status, r.username
FROM rental AS r
WHERE r.username = @__username_0
ORDER BY r.id
2022-12-22 22:12:09.460 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ModelsDTO.Rentals.RentalsDTO, ModelsDTO, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-12-22 22:12:09.462 +03:00 [INF] Executed action Rentals.Controllers.RentalsAPIController.GetRentalsByUsername (Rentals) in 105.4588ms
2022-12-22 22:12:09.463 +03:00 [INF] Executed endpoint 'Rentals.Controllers.RentalsAPIController.GetRentalsByUsername (Rentals)'
2022-12-22 22:12:09.463 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8060/api/v1/rental/?X-User-Name=Test+Max - - - 200 - application/json;+charset=utf-8 111.6973ms
2022-12-22 22:12:16.801 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8060/api/v1/rental/b6153128-a9f8-4059-a07c-47c0c8053c90/?X-User-Name=Test+Max - -
2022-12-22 22:12:16.802 +03:00 [INF] Executing endpoint 'Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals)'
2022-12-22 22:12:16.802 +03:00 [INF] Route matched with {action = "GetRentalByUid", controller = "RentalsAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRentalByUid(System.String, System.Guid) on controller Rentals.Controllers.RentalsAPIController (Rentals).
2022-12-22 22:12:16.808 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?', @__RentalUid_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r.id, r.car_uid, r.date_from, r.date_to, r.payment_uid, r.rental_uid, r.status, r.username
FROM rental AS r
WHERE r.username = @__username_0 AND r.rental_uid = @__RentalUid_1
LIMIT 1
2022-12-22 22:12:16.809 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModelsDTO.Rentals.RentalsDTO'.
2022-12-22 22:12:16.809 +03:00 [INF] Executed action Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals) in 7.1176ms
2022-12-22 22:12:16.810 +03:00 [INF] Executed endpoint 'Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals)'
2022-12-22 22:12:16.810 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8060/api/v1/rental/b6153128-a9f8-4059-a07c-47c0c8053c90/?X-User-Name=Test+Max - - - 200 - application/json;+charset=utf-8 9.1818ms
2022-12-22 22:12:16.827 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:8060/api/v1/rental/Test Max/b6153128-a9f8-4059-a07c-47c0c8053c90/CANCELED - 0
2022-12-22 22:12:16.827 +03:00 [INF] Executing endpoint 'Rentals.Controllers.RentalsAPIController.FinishRent (Rentals)'
2022-12-22 22:12:16.832 +03:00 [INF] Route matched with {action = "FinishRent", controller = "RentalsAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FinishRent(System.String, System.Guid, System.String) on controller Rentals.Controllers.RentalsAPIController (Rentals).
2022-12-22 22:12:16.838 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?', @__RentalUid_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r.id, r.car_uid, r.date_from, r.date_to, r.payment_uid, r.rental_uid, r.status, r.username
FROM rental AS r
WHERE r.username = @__username_0 AND r.rental_uid = @__RentalUid_1
LIMIT 1
2022-12-22 22:12:16.861 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE rental SET car_uid = @p0, date_from = @p1, date_to = @p2, payment_uid = @p3, rental_uid = @p4, status = @p5, username = @p6
WHERE id = @p7;
2022-12-22 22:12:16.862 +03:00 [INF] +RentalsRep : Rental 15 was patched at Rentals
2022-12-22 22:12:16.863 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModelsDTO.Rentals.RentalsDTO'.
2022-12-22 22:12:16.863 +03:00 [INF] Executed action Rentals.Controllers.RentalsAPIController.FinishRent (Rentals) in 31.2735ms
2022-12-22 22:12:16.863 +03:00 [INF] Executed endpoint 'Rentals.Controllers.RentalsAPIController.FinishRent (Rentals)'
2022-12-22 22:12:16.864 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:8060/api/v1/rental/Test Max/b6153128-a9f8-4059-a07c-47c0c8053c90/CANCELED - 0 - 200 - application/json;+charset=utf-8 37.1899ms
2022-12-22 22:12:20.199 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8060/api/v1/rental/b6153128-a9f8-4059-a07c-47c0c8053c90/?X-User-Name=Test+Max - -
2022-12-22 22:12:20.199 +03:00 [INF] Executing endpoint 'Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals)'
2022-12-22 22:12:20.199 +03:00 [INF] Route matched with {action = "GetRentalByUid", controller = "RentalsAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRentalByUid(System.String, System.Guid) on controller Rentals.Controllers.RentalsAPIController (Rentals).
2022-12-22 22:12:20.203 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?', @__RentalUid_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r.id, r.car_uid, r.date_from, r.date_to, r.payment_uid, r.rental_uid, r.status, r.username
FROM rental AS r
WHERE r.username = @__username_0 AND r.rental_uid = @__RentalUid_1
LIMIT 1
2022-12-22 22:12:20.203 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModelsDTO.Rentals.RentalsDTO'.
2022-12-22 22:12:20.204 +03:00 [INF] Executed action Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals) in 3.9013ms
2022-12-22 22:12:20.204 +03:00 [INF] Executed endpoint 'Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals)'
2022-12-22 22:12:20.204 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8060/api/v1/rental/b6153128-a9f8-4059-a07c-47c0c8053c90/?X-User-Name=Test+Max - - - 200 - application/json;+charset=utf-8 4.8825ms
2022-12-22 22:12:23.380 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8060/api/v1/rental/ application/json;+charset=utf-8 -
2022-12-22 22:12:23.381 +03:00 [INF] Executing endpoint 'Rentals.Controllers.RentalsAPIController.CreateRental (Rentals)'
2022-12-22 22:12:23.381 +03:00 [INF] Route matched with {action = "CreateRental", controller = "RentalsAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRental(ModelsDTO.Rentals.RentalsDTO) on controller Rentals.Controllers.RentalsAPIController (Rentals).
2022-12-22 22:12:23.384 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM rental AS r
2022-12-22 22:12:23.388 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO rental (id, car_uid, date_from, date_to, payment_uid, rental_uid, status, username)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2022-12-22 22:12:23.389 +03:00 [INF] Executing CreatedResult, writing value of type 'ModelsDTO.Rentals.RentalsDTO'.
2022-12-22 22:12:23.389 +03:00 [INF] Executed action Rentals.Controllers.RentalsAPIController.CreateRental (Rentals) in 8.4332ms
2022-12-22 22:12:23.389 +03:00 [INF] Executed endpoint 'Rentals.Controllers.RentalsAPIController.CreateRental (Rentals)'
2022-12-22 22:12:23.389 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8060/api/v1/rental/ application/json;+charset=utf-8 - - 201 - application/json;+charset=utf-8 9.1559ms
2022-12-22 22:12:26.131 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8060/api/v1/rental/2eae5028-61e9-44c7-a268-936abd2b0b65/?X-User-Name=Test+Max - -
2022-12-22 22:12:26.131 +03:00 [INF] Executing endpoint 'Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals)'
2022-12-22 22:12:26.132 +03:00 [INF] Route matched with {action = "GetRentalByUid", controller = "RentalsAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRentalByUid(System.String, System.Guid) on controller Rentals.Controllers.RentalsAPIController (Rentals).
2022-12-22 22:12:26.135 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?', @__RentalUid_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r.id, r.car_uid, r.date_from, r.date_to, r.payment_uid, r.rental_uid, r.status, r.username
FROM rental AS r
WHERE r.username = @__username_0 AND r.rental_uid = @__RentalUid_1
LIMIT 1
2022-12-22 22:12:26.135 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModelsDTO.Rentals.RentalsDTO'.
2022-12-22 22:12:26.135 +03:00 [INF] Executed action Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals) in 3.7331ms
2022-12-22 22:12:26.136 +03:00 [INF] Executed endpoint 'Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals)'
2022-12-22 22:12:26.136 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8060/api/v1/rental/2eae5028-61e9-44c7-a268-936abd2b0b65/?X-User-Name=Test+Max - - - 200 - application/json;+charset=utf-8 4.8056ms
2022-12-22 22:12:26.159 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:8060/api/v1/rental/Test Max/2eae5028-61e9-44c7-a268-936abd2b0b65/FINISHED - 0
2022-12-22 22:12:26.159 +03:00 [INF] Executing endpoint 'Rentals.Controllers.RentalsAPIController.FinishRent (Rentals)'
2022-12-22 22:12:26.159 +03:00 [INF] Route matched with {action = "FinishRent", controller = "RentalsAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FinishRent(System.String, System.Guid, System.String) on controller Rentals.Controllers.RentalsAPIController (Rentals).
2022-12-22 22:12:26.164 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?', @__RentalUid_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r.id, r.car_uid, r.date_from, r.date_to, r.payment_uid, r.rental_uid, r.status, r.username
FROM rental AS r
WHERE r.username = @__username_0 AND r.rental_uid = @__RentalUid_1
LIMIT 1
2022-12-22 22:12:26.166 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE rental SET car_uid = @p0, date_from = @p1, date_to = @p2, payment_uid = @p3, rental_uid = @p4, status = @p5, username = @p6
WHERE id = @p7;
2022-12-22 22:12:26.167 +03:00 [INF] +RentalsRep : Rental 16 was patched at Rentals
2022-12-22 22:12:26.167 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModelsDTO.Rentals.RentalsDTO'.
2022-12-22 22:12:26.168 +03:00 [INF] Executed action Rentals.Controllers.RentalsAPIController.FinishRent (Rentals) in 7.9906ms
2022-12-22 22:12:26.168 +03:00 [INF] Executed endpoint 'Rentals.Controllers.RentalsAPIController.FinishRent (Rentals)'
2022-12-22 22:12:26.168 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:8060/api/v1/rental/Test Max/2eae5028-61e9-44c7-a268-936abd2b0b65/FINISHED - 0 - 200 - application/json;+charset=utf-8 9.2087ms
2022-12-22 22:12:29.236 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8060/api/v1/rental/2eae5028-61e9-44c7-a268-936abd2b0b65/?X-User-Name=Test+Max - -
2022-12-22 22:12:29.237 +03:00 [INF] Executing endpoint 'Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals)'
2022-12-22 22:12:29.237 +03:00 [INF] Route matched with {action = "GetRentalByUid", controller = "RentalsAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRentalByUid(System.String, System.Guid) on controller Rentals.Controllers.RentalsAPIController (Rentals).
2022-12-22 22:12:29.240 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?', @__RentalUid_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT r.id, r.car_uid, r.date_from, r.date_to, r.payment_uid, r.rental_uid, r.status, r.username
FROM rental AS r
WHERE r.username = @__username_0 AND r.rental_uid = @__RentalUid_1
LIMIT 1
2022-12-22 22:12:29.240 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModelsDTO.Rentals.RentalsDTO'.
2022-12-22 22:12:29.241 +03:00 [INF] Executed action Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals) in 3.6423ms
2022-12-22 22:12:29.241 +03:00 [INF] Executed endpoint 'Rentals.Controllers.RentalsAPIController.GetRentalByUid (Rentals)'
2022-12-22 22:12:29.241 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8060/api/v1/rental/2eae5028-61e9-44c7-a268-936abd2b0b65/?X-User-Name=Test+Max - - - 200 - application/json;+charset=utf-8 4.7607ms
2022-12-22 22:12:34.241 +03:00 [INF] Application is shutting down...
